<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta property="og:title" content="FoxThinking #3: 这是括号的世界，我很幸运活在其中 — 狐狸反走矣" /><meta property="og:site_name" content="狐狸反走矣" /><meta property="og:image" content="https://blog.southfox.me/favicon.png" /><meta name="fediverse:creator" content="SouthFox@foxsay.southfox.me" /><title>FoxThinking #3: 这是括号的世界，我很幸运活在其中 — 狐狸反走矣</title><link rel="me" href="https://foxsay.southfox.me/@SouthFox" /><link rel="me" href="https://codeberg.org/southfox" /><script src="/assets/js/lips.min.js"></script><link rel="stylesheet" href="/assets/css/main.css" /><script type="text/x-scheme">(let ((font (or (localStorage.getItem "font") "zpix")) (font-select (document.getElementById "font-select"))) (define (string=? a b) (== (a.cmp b) 0)) (define (loop-set options value) (let loop ((i 0)) (if (> i (- (length options) 1)) i (let ((option (get options i))) (if (string=? option.value value) (option.setAttribute "selected" #t) (loop (+ 1 i))))))) (define (set-font font-name) (localStorage.setItem "font" font-name) (document.documentElement.setAttribute "data-font" font-name) (if font-select (loop-set font-select.options font-name))) (font-select.addEventListener "change" (lambda (event) (set-font event.target.value))) (set-font font))</script><link rel="alternative" href="/feed.xml" title="狐狸反走矣" type="application/atom+xml" /><link rel="alternative" href="/rss2.xml" title="狐狸反走矣" type="application/rss+xml" /></head><body><nav class="nav"><a href="/" class="brand"><span>狐狸反走矣</span></a><input id="bmenub" type="checkbox" class="show" aria-label="open menu" /><label for="bmenub" class="burger pseudo button">☰</label><div class="menu"><a href="/archives/">归档</a><a href="/tags/">标签</a><a href="/search/">搜索</a><a href="/about/">关于</a></div></nav><div class="container flex"><div class="content"><main data-pagefind-body="true"><div><h2>FoxThinking #3: 这是括号的世界，我很幸运活在其中</h2><h3>by SouthFox</h3><h3 data-pagefind-sort="date">2025-11-02</h3><div><p>想不出什么主题之后的 <code>fallback</code> 主题就是 <code>Lisp</code> 或者 <code>Emacs</code> （</p><span id="more"></span><h2 id="Lisp转换器">Lisp 转换器</h2><p>今年除了工作上的代码已经差不多八百个提交了，其中百分之八十都是 <code>lisp</code> 代码，现在因为 <a href="https://itch.io/jam/autumn-lisp-game-jam-2025" class="external_link">2025 秋季场 lisp game jam</a> <sup><a href="#1" id="1r">1</a></sup>
的原因，我可能会写更多的 <code>lisp</code> 代码。</p><p>所以，为什么是 <code>lisp</code> ？主要的原因当然是 <code>lisp</code> 主题的 game jam 要用 <code>lisp</code> 语言提交，但这次参加 <sup><a href="#2" id="2r">2</a></sup>
我打算用 <code>Godot</code> 引擎编写。在为这个调研时我就发现好像踩了个坑，因为 <code>Godot</code> 生态没有什么用 <code>lisp</code> 的项目，仅有成体
系的项目也停滞在了 <code>Godot</code> 3 的老版本中。所以无奈我只能找其它项目，之后我发现了 <a href="https://github.com/kalai-transpiler/kalai" class="external_link">GitHub - kalai-transpiler/kalai</a>
这个项目——将 <code>Clojure</code> 的代码转换成其它语言。</p><p>在翻看了一下实现和相关测试后我逐渐动了为这个项目接入转换成 <code>Godot</code> 所用的 <code>gdscript</code> 语言的念头，因为我发现其实 <code>lisp</code> 的
一些构造用来做转换器挺合适的 <sup><a href="#3" id="3r">3</a></sup> ：</p><p>例如有这样的一段 <code>clojure</code> 代码：</p><pre><code><span class="syntax-open">(</span><span class="syntax-special">ns</span> <span class="syntax-symbol">test-package.test-class</span><span class="syntax-close">)</span>
  <span class="syntax-open">(</span><span class="syntax-special">def</span> <span class="syntax-symbol">x</span> <span class="syntax-string">&quot;Hello&quot;</span><span class="syntax-close">)</span>
  <span class="syntax-open">(</span><span class="syntax-special">defn</span> <span class="syntax-symbol">f</span> <span class="syntax-open">[</span><span class="syntax-symbol">y</span><span class="syntax-close">]</span>
    <span class="syntax-open">{</span><span class="syntax-symbol">x</span> <span class="syntax-string">&quot;World&quot;</span><span class="syntax-close">}</span><span class="syntax-close">)</span></code></pre><p>经过一些「简单处理」后可以变成这样：</p><pre><code><span class="syntax-open">(</span><span class="syntax-symbol">namespace</span> <span class="syntax-symbol">test-package.test-class</span>
                <span class="syntax-open">(</span><span class="syntax-symbol">init</span> <span class="syntax-symbol">x</span> <span class="syntax-string">&quot;Hello&quot;</span><span class="syntax-close">)</span>
                <span class="syntax-open">(</span><span class="syntax-symbol">function</span> <span class="syntax-symbol">f</span> <span class="syntax-open">[</span><span class="syntax-symbol">y</span><span class="syntax-close">]</span>
                          <span class="syntax-open">(</span><span class="syntax-symbol">return</span>
                            <span class="syntax-open">{</span><span class="syntax-symbol">x</span> <span class="syntax-string">&quot;World&quot;</span><span class="syntax-close">}</span><span class="syntax-close">)</span><span class="syntax-close">)</span><span class="syntax-close">)</span></code></pre><p>然后通过不断匹配里面列表形式为不同语言写出对应的策略字符串化属性类型等元素就做成了一个 <code>Clojure</code> 语言转换成到不同语言的转换器，例如对于 <code>init</code> 初始化赋值操作， Python 可以变成
x = hello ; Java 可以变成 static final String x = Hello ;
函数声明 <code>function</code> 对于 Python 可以成为 def f():... ； Java 可以成为 public static final HashMap&lt;String,String&gt; f(final String y)... 。</p><h3 id="「简单处理」">「简单处理」</h3><p>但其实最令我着迷的是在里面「简单处理」发现了 <a href="https://github.com/noprompt/meander" class="external_link">GitHub - noprompt/meander: Tools for transparent data transformation</a>
这个库，里面对于数据地「摆弄」确实令人叹为观止，例如里面的 <code>rewrite</code> 策略例子，可以轻松写出乘法交换律操控形式：</p><pre><code><span class="syntax-open">(</span><span class="syntax-special">def</span> <span class="syntax-symbol">comm</span>
  <span class="syntax-open">(</span><span class="syntax-symbol">rewrite</span>
   <span class="syntax-comment">;; Left side
</span>   <span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-symbol">?a</span> <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-symbol">?b</span> <span class="syntax-symbol">?c</span><span class="syntax-close">)</span><span class="syntax-close">)</span>
   <span class="syntax-comment">;; =&gt; Right side
</span>   <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-symbol">?a</span> <span class="syntax-symbol">?b</span><span class="syntax-close">)</span>
      <span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-symbol">?a</span> <span class="syntax-symbol">?c</span><span class="syntax-close">)</span><span class="syntax-close">)</span><span class="syntax-close">)</span><span class="syntax-close">)</span>

<span class="syntax-open">(</span><span class="syntax-symbol">comm</span> <span class="syntax-symbol">'</span><span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-symbol">w</span> <span class="syntax-symbol">x</span><span class="syntax-close">)</span> <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-symbol">y</span> <span class="syntax-symbol">z</span><span class="syntax-close">)</span><span class="syntax-close">)</span><span class="syntax-close">)</span>
<span class="syntax-comment">;; =&gt;
</span><span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-symbol">w</span> <span class="syntax-symbol">x</span><span class="syntax-close">)</span> <span class="syntax-symbol">y</span><span class="syntax-close">)</span>
   <span class="syntax-open">(</span><span class="syntax-symbol">*</span> <span class="syntax-open">(</span><span class="syntax-symbol">+</span> <span class="syntax-symbol">w</span> <span class="syntax-symbol">x</span><span class="syntax-close">)</span> <span class="syntax-symbol">z</span><span class="syntax-close">)</span><span class="syntax-close">)</span></code></pre><p>也是庆幸找到了着个项目能让我「照虎化猫」以一种心智负担较小的方式作出转换器，否则我可能就要将我大半个
甚至一月的时间砸到编译领域可能还只会空磨耐心出不了什么成果了。</p><h2 id="阅读">阅读</h2><ul><li><p><a href="https://danieldelaney.net/normal/" class="external_link">Free software scares normal people—Daniel De Laney</a> 为什么普通人不用自由软件，因为被复杂性「劝退」了，就像
是电视遥控器一样，除了开关机、静音、调整音量频道外其它的键基本都没有用，做简单的设计有时候也是很难的设计。这也有点让我
想到一些说明键盘功能区和 F1~F12 的视频将其称为「金刚键」。我基本用着很多 HOME END 翻页键一开始没反应过
来为什么评论区说「原来如此但我不用」的论调，但转念一想我之前用不着这些键的时候也不懂这些按下去屏幕上不显示键盘对应字符
键存在的必要。可能这就是设计的难处吧，一些高级设置是有需求的，但是在不提供一个直观的探索学习十有八九会被「冷落」。</p></li><li><p><a href="https://www.afterbabel.com/p/on-the-death-of-daydreaming" class="external_link">On The Death of Daydreaming - by Christine Rosen</a> 屏幕夺走了人们的「空闲时间」，在路上、在电梯里人们不知道干
什么的时候就会按下唤醒键然后扫几眼屏幕，甚至这种事都已经成为下意识的事了，问着一个打开智能手机的人打开手机是为了什么
可能会收获一个「我不知道」的回答。所以为了不无聊而拿智能手机消磨「空闲时间」是值得的吗？「空闲时间」是有用的吗？我对这
个话题颇有兴趣，感觉可以在接下来的时间止住拿起智能手机的念头在「空闲时间」发呆和走神，看看是否比起刷智能手机更「好」一
点。</p><ul><li><p><a href="https://news.ycombinator.com/item?id=43896780" class="external_link">Last year I took a smartphone holiday for 4 months (switched to a dumbphone)....</a> HN 上的一个评论说，
当强迫「空闲时间」的出现就会强迫为一些感到焦虑的事作出抉择，这对一个有焦虑倾向的人来说或许是个好处。</p></li><li><p>是的，这是一个半年前的文章，因为我面对七八千未读我采用了乱序的方式进行浏览，不断调整 <code>offset</code> 参数不断阅读不同时间点
的阅读否则感觉顺序一直刷下去有点像在推石头一样。</p></li></ul></li><li><p><a href="https://blog.jim-nielsen.com/2025/dont-forget-these-html-tags/" class="external_link">Don’t Forget These Tags to Make HTML Work Like You Expect - Jim Nielsen’s Blog</a> 现在作出 <code>HTML</code> 网页在
最前面总要加上一点「额外」的标签使其「正常」。说它「额外」是因为很多（或者说我之前看的）教程都没提及这些额外标签，但是没
了这些标签在「现代」的网页上不符合移动设备的「正常」显示了。我之前也是踩了一些坑对照这其它网页的「正常」网页才发现这些标
签的。</p></li><li><p><a href="https://maurycyz.com/misc/the_cost_of_trash/" class="external_link">You should feed the bots: (Maurycy's blog)</a> 应对 AI 爬虫狂潮，文章作者试了很多方法最后觉得将文本材料提前读入内存
然后在页面请求时快速生成一些文本是最快捷最省资源的做法，反正大模型的输出最后已经「反哺」劣化了互联网，对小小加快这个进程的
做法也不用感到太压力吧？我现在已经接入了这个做法，看看之后又多少爬虫会在这些快速生成的「水货」文本中乱转吧。</p></li><li><p><a href="https://maurycyz.com/misc/easy_git/" class="external_link">You already have a git server: (Maurycy's blog)</a> 其实 Git 协议通过 ssh 协议放在一个远程服务器上也是可以用的，然
后通过一些 Git Hook 设置也能做到自动构建的效果（甚至直接用 Shell 脚本写不用掌握什么容器、job 、YAML 之类的玩意）。确实
如果只是个人简单用的话甚至连 <code>Gitea</code> 、 <code>Forgejo</code> 这种轻量化的 Git 服务都不需要，直接在 SSH 服务器上一把梭就好了，不过
鉴于我用 <code>Forgejo</code> 有同步一些远程镜像和 CICD 需求（虽然也能用 Git hook 实现不过，诶，沉没成本！）就暂时不这么做了。</p></li><li><p><a href="https://emily.space/posts/251023-uv" class="external_link">uv is the best thing to happen to the Python ecosystem in a decade - Blog - D...</a> 这个文章最令我吃惊的是在 HN 上
竟然已经有两千多点数了，看起来天下苦 <code>Python</code> 项目管理久欸啊。</p></li></ul><h2 id="Presentday,Presenttime">Present day, Present time</h2><p>如主题所说这周主要还是投入在 game jam 上，因为想跟前几次换个形式同时想在效果上努力而不是一些底层的东西上
耗费时间所以选择了 <code>Godot</code> ，希望到了下个周末能大体出个效果吧。虽然大概率是死线战士甚至我现在写这段话的时
候已经是在死线战士了（星期天二十三点四十五分）但还是希望能在周一至周五多弄多点让死线冲刺时没那么多负重。或
许也该考虑写点开发日志让这个博客不要被周刊塞满了（好像上周说了一样的话……）。</p><p>这周同时还调整了下安卓 Emacs 的上的配置，实现了个在特定时间段打开 Emacs 就自动进入 org-mode 捕获缓冲的
功能。实现了这个功能后确实写勤了一点，看起来有时候一些事不想做确实是因为启动不了啊，可以多向现在的游戏或者社交应用
学习学习看看怎样玩弄自己的心理。</p><h2 id="脚注">脚注</h2><p><sup><a href="#1r" id="1">1</a></sup> game jam 活动就是在限定时间内开发一个符合主题的游戏，感觉有点像写命题作文。 <a href="https://zh.wikipedia.org/zh-cn/Game_Jam" class="external_link">Game Jam - 维基百科，自由的百科全书</a></p><p><sup><a href="#2r" id="2">2</a></sup> 从 24 年春季场第一次参加到现在都已经是第四次参加了！</p><p><sup><a href="#3r" id="3">3</a></sup> 有趣事实： <code>lisp</code> 的括括又号号表达形式看起来似乎和抽象语法树差不多 <a href="https://zh.wikipedia.org/zh-cn/%E6%8A%BD%E8%B1%A1%E8%AA%9E%E6%B3%95%E6%A8%B9" class="external_link">抽象语法树 - 维基百科，自由的百科全书</a></p></div></div></main><div class="pagination"><a class="btn" href="/2025/11/fox-thinking-4/">← 上一页</a><a class="btn" href="/"> 主页 </a><a class="btn" href="/2025/10/fox-thinking-2/">下一页 →</a></div><div class="comment"><blockquote>如不想授权 Giscus 应用，也可以点击下方<strong>左上角数字</strong>直接跳转到 Github Discussions 进行评论。</blockquote><script src="https://giscus.app/client.js" data-repo="SouthFox-D/SouthFox-D.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMjg3NDM0MjQ=" data-category="博客评论" data-category-id="DIC_kwDODaJZAM4CA7bf" data-mapping="specific" data-term="2025/11/fox-thinking-3/" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top" data-theme="dark_dimmed" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async=""></script></div></div><div class="sidebar"><div class="widget"><h4>链接</h4><ul><li><a href="/friends/">友链</a></li><li><a href="https://www.travellings.cn/train.html">开往</a></li><li><a href="https://foreverblog.cn/go.html">虫洞</a></li><li><a href="/feed.xml">订阅（Atom)</a></li><li><a href="/rss2.xml">订阅（Rss)</a></li><li><a href="https://www.lisperati.com/logo.html"><img src="/assets/img/lisplogo_warning2_128.png" alt="Lisp logo warning" /></a></li><li><a href="https://www.fsf.org/appeal"><img src="/assets/img/6838639.png" alt="FSF appeal" /></a></li></ul><div><a href="https://xn--sr8hvo.ws/previous">←</a><a href="https://xn--sr8hvo.ws">IndieWeb Webring 💍</a><a href="https://xn--sr8hvo.ws/next">→</a></div><div><a href="https://fediring.net/previous?host=blog.southfox.me">←</a><a href="https://fediring.net">Fediring 💍</a><a href="https://fediring.net/next?host=blog.southfox.me">→</a></div></div><div class="widget"><h4>设置</h4><div><label for="font-select">字体设置：</label><select id="font-select"><option value="plain">普通</option><option value="zpix">像素</option></select></div></div><div class="widget"><h4>标签</h4><ul><li><a href="/tag/FoxThinking">FoxThinking</a></li><li><a href="/tag/Lisp">Lisp</a></li><li><a href="/tag/游戏">游戏</a></li></ul></div><div class="widget"><h4>目录</h4><ul><li><a href="#Lisp转换器">Lisp 转换器</a></li><li><a href="#「简单处理」">「简单处理」</a></li><li><a href="#阅读">阅读</a></li><li><a href="#Presentday,Presenttime">Present day, Present time</a></li><li><a href="#脚注">脚注</a></li></ul></div></div></div><footer class="footer"><div class="copyright"><div><p>© SouthFox 2026 ,Font by <a href="https://github.com/SolidZORO/zpix-pixel-font">Zpix</a></p></div><div><p>Power by <a href="https://dthompson.us/projects/haunt.html">haunt</a> ,source can be found <a href="https://git.southfox.me/southfox/blog">here</a></p></div></div></footer></body></html>