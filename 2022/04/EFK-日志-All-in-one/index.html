<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><meta property="og:title" content="'EFK:æ—¥å¿— All in oneâ€¦â€¦ï¼Ÿ' â€” ç‹ç‹¸åèµ°çŸ£" /><meta property="og:site_name" content="ç‹ç‹¸åèµ°çŸ£" /><meta property="og:image" content="https://blog.southfox.me/favicon.png" /><meta name="fediverse:creator" content="SouthFox@foxsay.southfox.me" /><title>'EFK:æ—¥å¿— All in oneâ€¦â€¦ï¼Ÿ' â€” ç‹ç‹¸åèµ°çŸ£</title><link rel="me" href="https://foxsay.southfox.me/@SouthFox" /><link rel="me" href="https://codeberg.org/southfox" /><script src="/assets/js/lips.min.js"></script><link rel="stylesheet" href="/assets/css/main.css" /><script type="text/x-scheme">(let ((font (or (localStorage.getItem "font") "zpix")) (font-select (document.getElementById "font-select"))) (define (string=? a b) (== (a.cmp b) 0)) (define (loop-set options value) (let loop ((i 0)) (if (> i (- (length options) 1)) i (let ((option (get options i))) (if (string=? option.value value) (option.setAttribute "selected" #t) (loop (+ 1 i))))))) (define (set-font font-name) (localStorage.setItem "font" font-name) (document.documentElement.setAttribute "data-font" font-name) (if font-select (loop-set font-select.options font-name))) (font-select.addEventListener "change" (lambda (event) (set-font event.target.value))) (set-font font))</script><link rel="alternative" href="/feed.xml" title="ç‹ç‹¸åèµ°çŸ£" type="application/atom+xml" /><link rel="alternative" href="/rss2.xml" title="ç‹ç‹¸åèµ°çŸ£" type="application/rss+xml" /></head><body><nav class="nav"><a href="/" class="brand"><span>ç‹ç‹¸åèµ°çŸ£</span></a><input id="bmenub" type="checkbox" class="show" aria-label="open menu" /><label for="bmenub" class="burger pseudo button">â˜°</label><div class="menu"><a href="/archives/">å½’æ¡£</a><a href="/tags/">æ ‡ç­¾</a><a href="/search/">æœç´¢</a><a href="/about/">å…³äº</a></div></nav><div class="container flex"><div class="content"><main data-pagefind-body="true"><div><h2>'EFK:æ—¥å¿— All in oneâ€¦â€¦ï¼Ÿ'</h2><h3>by SouthFox</h3><h3 data-pagefind-sort="date">2022-04-04</h3><div><p>çªç„¶å‘ç°è‡ªå·±æ­çš„åº”ç”¨ä¼¼ä¹ä¸Šäº†ä¸¤ä½æ•°äº†ã€‚</p><span id="more"></span><p>å…¶ä¸­ä¹Ÿä¸ä¹ä¸€äº›æ—¥å¿—å¤§æˆ·ï¼Œæ¯æ¬¡æ’é”™æ—¶éƒ½è¦è‡ªå·±è¿›å»ç”¨æ—¥å¿—å‘½ä»¤è„‘æ­» <code>PgUp, PgDn</code> ä¸€é¡µä¸€é¡µç¿»æ‰¾å—ï¼Ÿ</p><p>åˆšå¥½æœ€è¿‘çœ‹çš„ä¹¦é‡Œæå‡ºäº†ä¸€ç§æ—¥å¿—ç®¡ç†å®ç°ï¼š<code>ELK</code>ï¼Œå³ <code>Elasticsearch, Logstash, Kibana</code> ä¸‰ç§å¼€æºåº”ç”¨çš„ç®€ç§°ï¼Œå…¶ä¸­:</p><p><code>Elasticsearch</code>ï¼šè´Ÿè´£ç»™æ—¥å¿—æ•°æ®äº§ç”Ÿç´¢å¼•ï¼Œæ–¹ä¾¿æ£€ç´¢ã€‚</p><p><code>Logstash</code>ï¼šæ¥æ”¶å¹¶å¤„ç†æ—¥å¿—ï¼Œæ–¹ä¾¿å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</p><p><code>Kibana</code>ï¼šä¸€ä¸ªå±•ç¤ºå‰ç«¯ï¼Œæœ‰é…·ç‚«çš„ä¸€ä¼—å›¾è¡¨æ¨¡æ¿ç”¨æ¥å¯è§†åŒ–æ•°æ®ã€‚</p><p>ä¼¼ä¹åå¤´ä¸€ç›´éƒ½åœ¨å¾ˆå¤šå¹´äº†ï¼Œä½¿ç”¨èµ·æ¥ä¼¼ä¹æ¯”è¾ƒé‡é‡çº§ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰å…¶ä»–æ›´è½»é‡çš„å®ç°â€¦â€¦ä¸è¿‡æˆ‘ä¹Ÿæ‰¾ä¸åˆ°å…¶ä»–å®ç°å°±å…ˆè¿™ä¹ˆç”¨å§â€¦â€¦</p><h2 id="å®‰è£…">å®‰è£…</h2><p>å› ä¸ºæ­å»ºçš„åº”ç”¨ä»¥ <code>Docker</code> å±…å¤šï¼Œå…¶ä¸­é»˜è®¤æ”¯æŒçš„æ—¥å¿—æ–¹å¼æœ‰ <code>Fluentd</code>ï¼Œæ‰€ä»¥å°±ç”¨è¿™ä¸ªä»£æ›¿ <code>Logstash</code> äº†ï¼Œæ‰€ä»¥æ˜¯ <code>EFK</code> æ–¹æ¡ˆã€‚</p><p><code>Fluentd</code> é‡‡ç”¨åŒ…å®‰è£…çš„æ–¹å¼å®‰è£…ï¼Œæ¯•ç«Ÿè¦ç”¨å®ƒå¤„ç†å®¿ä¸»æœºä¸Šçš„ä¸€äº›æ—¥å¿—ï¼Œå°±ä¸è€ƒè™‘å¡åˆ° <code>Docker</code> é‡ŒæŠ˜è…¾è‡ªå·±äº†ã€‚</p><h3 id="å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡</h3><p>å‚è§<a href="https://docs.fluentd.org/installation/before-install" class="external_link">å®˜ç½‘æ–‡æ¡£</a>ï¼š</p><h4 id="å®‰è£…chrony">å®‰è£… chrony</h4><pre><code>apt-get install chrony</code></pre><p>æ­¤æ­¥éª¤æ˜¯ä¸ºäº†æ—¥å¿—æ¶ˆæ¯èƒ½æœ‰æ›´å‡†ç¡®çš„æ—¶é—´æˆ³çš„æ ·å­ï¼Ÿ</p><h4 id="è°ƒé«˜æ–‡ä»¶æè¿°ç¬¦">è°ƒé«˜æ–‡ä»¶æè¿°ç¬¦</h4><p>æ‰§è¡Œ</p><pre><code>ulimit -n</code></pre><p>å‘½ä»¤ï¼Œè¦æ˜¯æ˜¾ç¤º <code>1024</code> çš„è¯ï¼Œé‚£ä¹ˆå°±å¾—è°ƒé«˜ä¸€ç‚¹ï¼Œé˜²æ­¢æ–‡ä»¶æè¿°ç¬¦ç”¨å®ŒæŠ¥é”™ï¼Œ</p><p>ç¼–è¾‘ <code>/etc/security/limits.conf</code> æ–‡ä»¶ï¼Œåœ¨æœ€åé¢åŠ ä¸Šï¼š</p><pre><code>root soft nofile 65536
root hard nofile 65536
* soft nofile 65536
* hard nofile 65536</code></pre><p>ä¹‹åé‡å¯ï¼Œå†æ¬¡æ‰§è¡Œ</p><pre><code>ulimit -n</code></pre><p>å‘½ä»¤ï¼Œæ˜¾ç¤º <code>65536</code> å³å¯æˆåŠŸã€‚</p><h4 id="å…¶ä»–">å…¶ä»–</h4><p>å…¶ä»–çš„ç½‘ç»œè°ƒä¼˜æ‡’å¾—æäº†â€¦â€¦é—®å°±æ˜¯æ‘¸äº†ï¼</p><h3 id="å®‰è£…Fluentd">å®‰è£… Fluentd</h3><p>ç”¨çš„æ˜¯ <code>Ububtu 20.04</code> ï¼Œå‚ç…§<a href="https://docs.fluentd.org/installation/install-by-deb" class="external_link">å®˜æ–¹æ–‡æ¡£</a>ï¼Œæ‰§è¡Œ</p><pre><code>curl -fsSL https://toolbelt.treasuredata.com/sh/install-ubuntu-focal-td-agent4.sh | sh</code></pre><p>è€Œä¸”é‡Œé¢çš„ç‰ˆæœ¬æè¿°æ˜¯ç”¨å¤§ç‰ˆæœ¬å·çš„è‹±æ–‡æè¿°çš„ï¼Œè¿˜å¾—æˆ‘ç¿»<a href="https://zh.wikipedia.org/zh/Ubuntu" class="external_link">ç»´åŸº</a>æŸ¥ï¼Œå¥½å¥½ç”¨é˜¿æ‹‰ä¼¯æ•°å­—ä¸å¥½å˜›â€¦â€¦</p><h3 id="å®‰è£…EK">å®‰è£… EK</h3><p>è¿™é‡Œå°±ç”¨ <code>Docker</code> çœç‚¹åŠ›äº†â€¦â€¦</p><pre><code>version: '3'
services:
  elasticsearch:
    image: elasticsearch:tag
    restart: always
    ports:
      - &quot;127.0.0.1:9200:9200&quot;
    environment:
      ES_JAVA_OPTS: &quot;-Xmx256m -Xms256m&quot;
      ELASTIC_PASSWORD: &quot;you_password&quot;
      http.cors.enabled: &quot;true&quot;
      http.cors.allow-origin: &quot;*&quot;
      xpack.security.enabled: &quot;true&quot;
      discovery.type: &quot;single-node&quot;
      xpack.security.authc.api_key.enabled: &quot;true&quot;

  kibana:
    image: kibana:tag
    restart: always
    links:
      - &quot;elasticsearch&quot;
    ports:
      - &quot;127.0.0.1:5601:5601&quot;
    environment:
      - ELASTICSEARCH_USERNAME=elastic
      - ELASTICSEARCH_PASSWORD=&quot;you_password&quot;</code></pre><p>å…¶ä¸­ <code>tag</code> åº”è¯¥å» <a href="https://hub.docker.com/_/elasticsearch" class="external_link"><code>Docker Hub</code> é¡µé¢</a>å¯»æ‰¾ï¼Œå› ä¸ºæ²¡æœ‰é»˜è®¤æ ‡ç­¾çš„æ ·å­åªèƒ½æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬äº†â€¦â€¦è€Œä¸”æ³¨æ„è¦é€‰æ‹©ä¿®äº†é«˜å±æ¼æ´çš„ç‰ˆæœ¬ã€‚</p><p>ä¹‹å <code>up</code> èµ·æ¥å¾…ç”¨ã€‚</p><p>ï¼ˆ<strong>æ³¨æ„</strong>è¿™é‡Œæ²¡åšæ•°æ®æŒä¹…åŒ–å¤„ç†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œæ‰¾æ‰¾è¦æŒ‚è½½å“ªäº›è·¯å¾„â€¦â€¦ï¼‰</p><h2 id="é…ç½®">é…ç½®</h2><h3 id="Fluentd">Fluentd</h3><p>é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ <code>/etc/td-agent/td-agent.conf</code> ï¼Œ</p><p>å…¶ä¸­åˆ†ä¸º <code>Input</code> ç«¯ï¼Œç”¨ <code>&lt;sourec&gt;</code> è¡¨ç¤ºï¼Œ<code>Output</code> ç«¯ï¼Œç”¨ <code>&lt;match&gt;</code> å¤„ç†ã€‚</p><p>é¦–å…ˆå¢åŠ ä»¥ä¸‹ï¼š</p><pre><code>&lt;source&gt;
  @type forward
  port 24224
  bind 127.0.0.1
&lt;/source&gt;

&lt;match *.**&gt;
  @type copy

  &lt;store&gt;
    @type elasticsearch
    host 127.0.0.1
    port 9200
    user elastic
    password you_password
    logstash_format true
    logstash_prefix fluentd
    logstash_dateformat %Y%m%d
    include_tag_key true
    type_name access_log
    tag_key @log_name
    flush_interval 1s
  &lt;/store&gt;

  &lt;store&gt;
    @type stdout
  &lt;/store&gt;
&lt;/match&gt;</code></pre><p>å¹¶ä¸” <code>systemctl restart td-agent</code> é‡å¯åº”ç”¨ï¼Œå¼€æ”¾<code>24224</code> ç«¯å£è®© <code>Docker</code>  èƒ½å¤Ÿè¿›è¡Œè”åï¼Œå¹¶å°†ç›¸åº”æ•°æ®é€šè¿‡ <code>9200</code> ç«¯å£æ±‡å…¥åˆ° <code>Elasticsearch</code> è¿›è¡Œå¤„ç†ã€‚</p><h3 id="Docker">Docker</h3><p>ç®¡ç†æ¯ä¸ª <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œåœ¨æ¯ä¸ªæœåŠ¡åé¢åŠ ä¸Šç›¸åº”çš„ <code>logging</code> å—ï¼š</p><pre><code>services:
  xxx:
  ......
  ......
  logging:
    driver: fluentd
  
  yyy:
  ......
  ......
  logging:
    driver: fluentd</code></pre><p>(æ˜¯çš„ï¼Œæ„Ÿè§‰è¿™æ ·ç¡®å®æœ‰ç‚¹è ¢ï¼Œä¸è¿‡æ²¡æ‰¾åˆ°å…¶ä»–æ›´å¥½å®ç°è€Œä¸”åªè¦åšä¸€æ¬¡å°±å…ˆå¿äº†â€¦â€¦)</p><p>ä¹‹å <code>down</code> å† <code>up</code> é‡å»ºå®¹å™¨å³å¯ã€‚</p><h3 id="Kibana">Kibana</h3><p>æ²¡å‡ºé”™çš„è¯ç°åœ¨æ—¥å¿—åº”è¯¥æºæºä¸æ–­æ±‡å…¥åˆ° <code>Elasticsearch</code> å¹¶åœ¨å¤„ç†äº†ï¼Œç°åœ¨è¯¥æµè§ˆæˆæœäº†ã€‚</p><p>è€è°ƒé‡å¼¹ä¹‹ç”³è¯·åŸŸåã€æŒ‡å‘åŸŸåã€ç”³è¯·è¯ä¹¦ã€åä»£ <code>5601</code> ç«¯å£ï¼Œå®Œæˆåè®¿é—®å¯¹åº”åŸŸååº”è¯¥å°±èƒ½è¿›åˆ°ç®¡ç†é¢æ¿äº†ã€‚</p><p>å±•å¼€å·¦è¾¹çš„èœå•æ  <code>Management~Stack Management -&gt; Kibana~Index patterns -&gt; Create index patterns</code> åº”è¯¥èƒ½çœ‹åˆ°æœ‰ç±»ä¼¼ <code>fluentd-YYMMDD</code> å½¢å¼çš„æ•°æ®äº†ï¼Œæ–°å»ºä¸€ä¸ªåå« <code>fluentd-*</code> çš„ç´¢å¼•å°†æ•°æ®å›Šæ‹¬è¿›æ¥ï¼Œå°±æå®šäº†ï¼Œä¹‹åå¯ä»¥å» <code>Analytics~Discover</code> æŸ¥çœ‹æ•°æ®äº†â€¦â€¦</p><p>åˆ°æ­¤ï¼Œç®¡ç† <code>Docker</code> äº§ç”Ÿçš„æ—¥å¿—å°±è¿™æ ·æå®šäº†â€¦â€¦</p><h2 id="é¢å¤–">é¢å¤–</h2><p>å½“ç„¶è¿˜æ²¡ç»“æŸï¼Œæ¯•ç«Ÿè¿˜è¦æ›´å¤šï¼</p><h3 id="Nginx">Nginx</h3><p><code>Fluentd</code> ç›´æ¥å®‰è£…å°±æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿å¤„ç†ç›¸åº”æ—¥å¿—çš„ï¼Œä½†æ˜¯é’ˆå¯¹ <code>nginx</code> æ¥è¯´ï¼Œå› ä¸º <code>Fluentd</code> ä½¿ç”¨çš„ç”¨æˆ· <code>td-agent</code> æ²¡æœ‰ç›¸åº”è®¿é—® <code>nginx</code> æ—¥å¿—çš„æƒé™ï¼Œé‚£ä¹ˆé¦–å…ˆè¦ç”¨</p><pre><code>usermod -aG adm td-agent</code></pre><p>å‘½ä»¤æ”¾è¡Œå¯¹åº”ç›®å½•ï¼Œ<a href="https://docs.fluentd.org/parser#how-to-use" class="external_link">å‚è§</a>ã€‚</p><p>ä¹‹ååœ¨ <code>/etc/td-agent/td-agent.conf</code> é…ç½®æ–‡ä»¶ä¸­æ–°å¢ä»¥ä¸‹é…ç½®ï¼š</p><pre><code>&lt;source&gt;
  @type tail
  path /var/log/nginx/*access.log,/var/log/nginx/*access.log.1
  pos_file /var/log/td-agent/httpd-access.log.pos
  tag nginx.access
  &lt;parse&gt;
    @type nginx
  &lt;/parse&gt;
&lt;/source&gt;

&lt;source&gt;
  @type tail
  path /var/log/nginx/*error.log,/var/log/nginx/*erroe.log.1
  pos_file /var/log/td-agent/httpd-error.log.pos
  tag nginx.error
  &lt;parse&gt;
    @type nginx
  &lt;/parse&gt;
&lt;/source&gt;</code></pre><p>ç„¶å <code>systemctl restart td-agent</code> é‡å¯åº”ç”¨ã€‚</p><p>å…¶ä¸­ä¸€ä¸ªå°é—®é¢˜å°±æ˜¯ <code>error</code> æ—¥å¿—ä¼šå› ä¸ºä¸èƒ½æ ¼å¼åŒ–è€Œå¯¼è‡´ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå½“ç„¶åªé™ <code>error</code> æ—¥å¿—ï¼Œæ‰€ä»¥å°±â€¦â€¦çœ¼ä¸è§ä¸ºå‡€äº†â€¦â€¦åæ­£è¿™ä¹Ÿç®—å•ç‹¬ä¸€ä¸ªåˆ†ç±»äº†â€¦â€¦å§ã€‚</p><h3 id="ç½‘ç»œä¼ è¾“">ç½‘ç»œä¼ è¾“</h3><p>æ—¢ç„¶ <code>All in one</code>ï¼Œè‡ªç„¶è¦å¤„ç†å¥½å…¶ä»–ä¸»æœºçš„æœåŠ¡äº†ï¼Œ <code>Fluentd</code> ä¹Ÿè‡ªå¸¦ä¸€ä¸ª <code>http</code> æ–¹å¼è¿›è¡Œä¼ è¾“ã€‚</p><h4 id="ä¸»æœº">ä¸»æœº</h4><p>åœ¨ <code>/etc/td-agent/td-agent.conf</code> é…ç½®æ–‡ä»¶ä¸­æ–°å¢ä»¥ä¸‹é…ç½®ï¼š</p><pre><code>&lt;source&gt;
  @type http
  port 9880
  bind 127.0.0.1
  body_size_limit 32m
  keepalive_timeout 10s
&lt;/source&gt;</code></pre><p>ç„¶å <code>systemctl restart td-agent</code> é‡å¯åº”ç”¨ï¼Œå†è€è°ƒé‡å¼¹ä¹‹ç”³è¯·åŸŸåã€æŒ‡å‘åŸŸåã€ç”³è¯·è¯ä¹¦ã€åä»£ <code>9800</code> ç«¯å£ã€‚</p><h4 id="å®¢æœº">å®¢æœº</h4><p>åœ¨ <code>/etc/td-agent/td-agent.conf</code> é…ç½®æ–‡ä»¶ä¸­æ–°å¢ä»¥ä¸‹é…ç½®ï¼š</p><pre><code>&lt;match **&gt;
  @type http

    endpoint https://ç”³è¯·çš„åŸŸå:443/api
    open_timeout 3

    &lt;format&gt;
      @type json
    &lt;/format&gt;
    json_array true
    &lt;buffer&gt;
      flush_interval 10s
    &lt;/buffer&gt;
&lt;/match&gt;</code></pre><p>ç„¶å <code>systemctl restart td-agent</code> é‡å¯åº”ç”¨ï¼Œ</p><p>ä¹‹åè§‚å¯Ÿ <code>Kibana</code> é¢æ¿ï¼Œå‘ç°æœ‰ <code>@logname</code> ä¸º <code>api</code> çš„æ•°æ®å°±ç®—æˆåŠŸâ€¦â€¦è¿™ä¸ª <code>logname</code> å‘ç°ä¸çŸ¥é“æ€ä¹ˆæ”¹â€¦â€¦ç®—äº†ï¼Œå°±å½“ä½œåŒºåˆ†ä¸åŒæœºå­äº†å§â€¦â€¦</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>è¿™ä¹ˆå¤„ç†ä¸‹æ¥ï¼Œå°±åº”è¯¥èƒ½æ„‰å¿«çš„æ¢ç´¢è‡ªå·±äº§ç”Ÿçš„æ—¥å¿—äº†ï¼Œèƒ½å¤Ÿç›´æ¥æŒ‡å®šæ—¶é—´æ®µå’ŒæŒ‰å±æ€§è¿‡æ»¤æ¡ç›®å·²ç»æš´æ€ç›´æ¥ç¿»æ‰¾æ—¥å¿—æ–‡ä»¶çš„æ–¹å¼äº†â€¦â€¦</p><p>æ„Ÿè§‰èƒ½æ‘¸ç´¢çš„åœ°æ–¹è¿˜æœ‰æŒºå¤šçš„å‘¢ï¼Œä¸ç”¨å„ç§è¿½è¸ªè„šæœ¬ä»…å‡­æ—¥å¿—æ–‡ä»¶ä¹Ÿèƒ½å‘ç°å¾ˆå¤šä¸œè¥¿å‘¢â€¦â€¦</p><p>ä¸è¿‡éš¾å—çš„ç‚¹å°±æ˜¯ï¼Œ<code>EFK</code> åå¤´é‚£ä¹ˆå¤§ï¼Œä½†æ˜¯ç›¸å…³æ–‡æ¡£çœŸçš„å¾ˆå°‘ï¼ˆå°±ç®—ç”¨è‹±æ–‡æœç´¢ï¼‰â€¦â€¦æ„Ÿè§‰è‡ªå·±åœ¨ç”¨ä¸€ä¸ªè¿‡æ°”é¡¹ç›®çš„æ ·å­ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ä¸å¾—è¦é¢†â€¦â€¦</p><p>æœ€åé™„å¼ å›¾ï¼Œç”¨é¢æ¿äº”åˆ†é’Ÿå°±æ­å‡ºæ¥çš„çœ‹æ¿,æ„Ÿè§‰è¿˜èƒ½å†æŒ–æ˜ç‚¹ä¸œè¥¿å‘¢ã€‚</p><p><img src="https://media.southfox.me/attachment/bafkreicf4fknbhjyqw5dgh5vgg5pfl6fx2bwiiw745pun7ap7zf3tzdqdy" alt="çœ‹æ¿" /></p></div></div></main><div class="pagination"><a class="btn" href="/2022/04/æ­å»ºMatrixå³æ—¶é€šä¿¡æœåŠ¡/">â† ä¸Šä¸€é¡µ</a><a class="btn" href="/"> ä¸»é¡µ </a><a class="btn" href="/2022/03/äºŒäºŒå¹´ä¸‰æœˆæ¢¦è®°/">ä¸‹ä¸€é¡µ â†’</a></div><div class="comment"><blockquote>å¦‚ä¸æƒ³æˆæƒ Giscus åº”ç”¨ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»ä¸‹æ–¹<strong>å·¦ä¸Šè§’æ•°å­—</strong>ç›´æ¥è·³è½¬åˆ° Github Discussions è¿›è¡Œè¯„è®ºã€‚</blockquote><script src="https://giscus.app/client.js" data-repo="SouthFox-D/SouthFox-D.github.io" data-repo-id="MDEwOlJlcG9zaXRvcnkyMjg3NDM0MjQ=" data-category="åšå®¢è¯„è®º" data-category-id="DIC_kwDODaJZAM4CA7bf" data-mapping="specific" data-term="2022/04/EFK-æ—¥å¿—-All-in-one/" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top" data-theme="dark_dimmed" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async=""></script></div></div><div class="sidebar"><div class="widget"><h4>é“¾æ¥</h4><ul><li><a href="/friends/">å‹é“¾</a></li><li><a href="https://www.travellings.cn/train.html">å¼€å¾€</a></li><li><a href="https://foreverblog.cn/go.html">è™«æ´</a></li><li><a href="/feed.xml">è®¢é˜…ï¼ˆAtom)</a></li><li><a href="/rss2.xml">è®¢é˜…ï¼ˆRss)</a></li><li><a href="https://www.lisperati.com/logo.html"><img src="/assets/img/lisplogo_warning2_128.png" alt="Lisp logo warning" /></a></li><li><a href="https://www.fsf.org/appeal"><img src="/assets/img/6838639.png" alt="FSF appeal" /></a></li></ul><div><a href="https://xn--sr8hvo.ws/previous">â†</a><a href="https://xn--sr8hvo.ws">IndieWeb Webring ğŸ’</a><a href="https://xn--sr8hvo.ws/next">â†’</a></div><div><a href="https://fediring.net/previous?host=blog.southfox.me">â†</a><a href="https://fediring.net">Fediring ğŸ’</a><a href="https://fediring.net/next?host=blog.southfox.me">â†’</a></div></div><div class="widget"><h4>è®¾ç½®</h4><div><label for="font-select">å­—ä½“è®¾ç½®ï¼š</label><select id="font-select"><option value="plain">æ™®é€š</option><option value="zpix">åƒç´ </option></select></div></div><div class="widget"><h4>æ ‡ç­¾</h4><ul><li><a href="/tag/æŠ€æœ¯">æŠ€æœ¯</a></li></ul></div><div class="widget"><h4>ç›®å½•</h4><ul><li><a href="#å®‰è£…">å®‰è£…</a></li><li><a href="#å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡</a></li><li><a href="#å®‰è£…chrony">å®‰è£… chrony</a></li><li><a href="#è°ƒé«˜æ–‡ä»¶æè¿°ç¬¦">è°ƒé«˜æ–‡ä»¶æè¿°ç¬¦</a></li><li><a href="#å…¶ä»–">å…¶ä»–</a></li><li><a href="#å®‰è£…Fluentd">å®‰è£… Fluentd</a></li><li><a href="#å®‰è£…EK">å®‰è£… EK</a></li><li><a href="#é…ç½®">é…ç½®</a></li><li><a href="#Fluentd">Fluentd</a></li><li><a href="#Docker">Docker</a></li><li><a href="#Kibana">Kibana</a></li><li><a href="#é¢å¤–">é¢å¤–</a></li><li><a href="#Nginx">Nginx</a></li><li><a href="#ç½‘ç»œä¼ è¾“">ç½‘ç»œä¼ è¾“</a></li><li><a href="#ä¸»æœº">ä¸»æœº</a></li><li><a href="#å®¢æœº">å®¢æœº</a></li><li><a href="#æ€»ç»“">æ€»ç»“</a></li></ul></div></div></div><footer class="footer"><div class="copyright"><div><p>Â© SouthFox 2026 ,Font by <a href="https://github.com/SolidZORO/zpix-pixel-font">Zpix</a></p></div><div><p>Power by <a href="https://dthompson.us/projects/haunt.html">haunt</a> ,source can be found <a href="https://git.southfox.me/southfox/blog">here</a></p></div></div></footer></body></html>